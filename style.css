:root{
  --radius: 18px;
  --accent: 212 100% 55%;
  /* default: light theme (site loads in light mode) */
  --bg: 220 25% 96%;
  --fg: 220 20% 12%;
  --muted: 220 10% 40%;
  /* liquid glass base for light */
  --glass: 220 40% 99% / 70%;
  --stroke: 220 10% 20% / 10%;
  --shadow: 0 10px 40px hsl(220 20% 30% / 20%);
  --focus: 0 0 0 3px hsl(var(--accent) / .20), 0 0 0 1px hsl(var(--accent) / .90);
  --apple-black: 220 5% 6%; /* deep 'apple' black tuned by H,S,L */
}
@media (prefers-color-scheme: light){
  :root{
    --bg: 220 25% 96%;
    --fg: 220 25% 12%;
    --muted: 220 10% 40%;
    --glass: 220 40% 99% / 70%;
    --stroke: 220 10% 20% / 10%;
    --shadow: 0 10px 40px hsl(220 20% 30% / 20%);
  }
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font-family: "Segoe UI", system-ui, -apple-system, Roboto, "Helvetica Neue", Arial, sans-serif;
  color:hsl(var(--fg));
  background: linear-gradient(hsl(var(--bg)), hsl(var(--bg)));
  min-height:100%;
}

/* Smooth theme morphing helper â€” toggled by JS during theme change */
.theme-animating,
.theme-animating *{
  transition: background-color 420ms cubic-bezier(.2,.9,.3,1),
              color 420ms cubic-bezier(.2,.9,.3,1),
              border-color 420ms cubic-bezier(.2,.9,.3,1),
              box-shadow 420ms cubic-bezier(.2,.9,.3,1),
              transform 420ms cubic-bezier(.2,.9,.3,1);
}

/* Theme modifier for explicit dark mode (applied by JS) */
:root.dark{
  --bg: var(--apple-black);
  --fg: 220 12% 90%;
  --muted: 220 8% 68%;
  --glass: 220 12% 10% / 48%;
  --stroke: 0 0% 100% / 6%;
  --shadow: 0 30px 70px hsl(220 10% 2% / .75);
}

/* Light explicit mode */
:root.light{
  --bg: 220 25% 96%;
  --fg: 220 20% 12%;
  --muted: 220 10% 40%;
  --glass: 220 40% 99% / 70%;
  --stroke: 220 10% 20% / 10%;
  --shadow: 0 10px 40px hsl(220 20% 30% / 20%);
}

/* Radios hidden but present for accessibility */
.tabs{ position:absolute; height:0; width:0; overflow:hidden; }
.tabs input{ position:absolute; opacity:0; pointer-events:none; }

/* Header + Dock */
header{
  position: fixed; left:50%; transform:translateX(-50%); top:0; z-index:60;
  display:flex; gap:16px; align-items:center;
  padding:12px 16px; margin:12px auto; width:calc(100% - 40px); max-width:1100px;
  -webkit-backdrop-filter: saturate(1.4) blur(14px);
  backdrop-filter: saturate(1.4) blur(14px);
  background: linear-gradient(180deg, hsl(var(--glass)), rgba(255,255,255,0.02));
  border: 1px solid hsl(var(--stroke));
  border-radius: calc(var(--radius) + 6px);
  box-shadow: var(--shadow);
  transition: transform .28s ease, opacity .22s ease;
}
.brand{
  font-weight:700; letter-spacing:.2px;
  padding:8px 1px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  
}
.dock{
  display:flex; gap:8px; align-items:center; flex-wrap:wrap;
  margin-left:auto;
}
.pill{
  display:inline-flex; align-items:center; gap:10px;
  padding:10px 14px; border-radius:999px;
  color:hsl(var(--fg)); text-decoration:none; cursor:pointer;
  border:1px solid hsl(var(--stroke));
  background: linear-gradient(180deg, hsl(0 0% 100% / .06), hsl(0 0% 100% / .02));
  -webkit-backdrop-filter: saturate(1.2);
  backdrop-filter: saturate(1.2);
  transition: transform .15s ease, background .2s ease, box-shadow .2s ease;
  box-shadow: 0 1px 0 hsl(0 0% 100% / .05) inset, 0 8px 20px hsl(220 40% 2% / .20);
}
.pill:hover{ transform: translateY(-1px); }
.pill:focus-visible{ outline:none; box-shadow: var(--focus); }

/* Active pill states tied to radios */
#t-blog:checked ~ header .pill[for="t-blog"],
#t-projects:checked ~ header .pill[for="t-projects"],
#t-cases:checked ~ header .pill[for="t-cases"],
#t-about:checked ~ header .pill[for="t-about"]{
  background: linear-gradient(180deg, hsl(var(--accent) / .22), hsl(var(--accent) / .14));
  border-color: hsl(var(--accent) / .55);
  box-shadow: 0 0 0 1px hsl(var(--accent) / .7) inset, 0 10px 30px hsl(var(--accent) / .25);
}

/* Theme toggle specifics */
.theme-toggle{ margin-left:8px; }
.toggle-pill{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; }
.toggle-pill .icon{ opacity:.9 }
.toggle-pill .toggle-label{ font-size:13px; font-weight:600 }
.toggle-pill[aria-pressed="true"]{ background: linear-gradient(180deg, hsl(var(--accent) / .18), hsl(var(--accent) / .10)); border-color: hsl(var(--accent) / .6) }

/* Hamburger */
.hamburger{ appearance:none; border:0; background:transparent; padding:8px; display:inline-grid; place-items:center; border-radius:10px; cursor:pointer; }
.hamburger{ appearance:none; border:0; background:transparent; padding:8px; display:inline-grid; place-items:center; border-radius:10px; cursor:pointer; position:relative; margin-left:4px }
.hamburger .ham-line{ width:20px; height:2px; background: hsl(var(--fg)); display:block; border-radius:2px; transition: transform .22s ease, opacity .18s ease, background .18s ease }
.hamburger .ham-line + .ham-line{ margin-top:5px }
.hamburger[aria-expanded="true"] .ham-line:nth-child(1){ transform: translateY(6px) rotate(45deg) }
.hamburger[aria-expanded="true"] .ham-line:nth-child(2){ opacity:0 }
.hamburger[aria-expanded="true"] .ham-line:nth-child(3){ transform: translateY(-6px) rotate(-45deg) }

/* Mobile menu (liquid glass) */
.mobile-menu{ position:fixed; inset:0 0 auto 0; top:0; left:0; width:100%; height:100vh; display:flex; align-items:flex-start; justify-content:flex-start; padding:48px 20px 20px 20px; pointer-events:none; opacity:0; transition: opacity .22s ease; z-index:70 }
.mobile-menu[aria-hidden="false"]{ pointer-events:auto; opacity:1 }
.menu-inner{ width:340px; max-width:92%; padding:20px; border-radius:18px; background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)); border:1px solid hsl(var(--stroke)); box-shadow: 0 20px 40px hsl(220 8% 6% / .6); backdrop-filter: blur(12px) saturate(1.3) }
.menu-inner nav{ display:flex; flex-direction:column; gap:8px }
.menu-link{ display:block; padding:12px 14px; color:hsl(var(--fg)); text-decoration:none; border-radius:12px; border:1px solid transparent }
.menu-link:hover{ background: linear-gradient(180deg, hsl(var(--accent) / .08), hsl(var(--accent) / .04)); border-color: hsl(var(--accent) / .12) }

/* Main content and cards */
.content{ margin:120px auto 80px; max-width:1100px; padding: 0 20px;}
.articles{ display:grid; grid-template-columns: repeat(2, 1fr); gap:20px; }
.card{ border-radius:14px; overflow:hidden; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid hsl(var(--stroke)); box-shadow: 0 8px 30px hsl(220 8% 6% / .25); }
.card-img {width: 75%; display: block; object-fit: cover; height: auto; padding: 20px 20px; margin-left: auto; margin-right: auto; border-radius:12px; box-shadow: 0 18px 40px rgba(0,0,0,0.12); transition: box-shadow .28s ease, transform .2s ease;}
.card-img[data-has-shadow="true"]{ box-shadow: 0 20px 46px rgba(var(--img-shadow, 10 10 12) / .28); }
.home-card-img{ width:100%; display:block; object-fit:cover; height:auto; padding: 20px  20px }
.card-body{ padding:14px; }
.card-body h3{ margin:0 0 8px; font-size:1.05rem; }
.card-body p{ margin:0 0 12px; line-height:1.45 }
.read-more{ color: hsl(var(--accent)); text-decoration:none; font-weight:600 }
.article-heading{ padding:0 20px 0; font-size: 25px}

/* Back button (article pages) */
.back-wrap{ max-width:1100px; margin:84px auto 8px; padding:10px 20px }
.back-button{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; text-decoration:none; color:hsl(var(--fg)); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid hsl(var(--stroke)); box-shadow: 0 6px 18px hsl(220 8% 6% / .18) }
.back-button:hover{ transform: translateY(-2px) }

/* Icon defaults and transitions for theme toggle */
.toggle-pill .icon.moon{ display:none }
.toggle-pill .icon{ transition: opacity .18s ease, transform .18s ease }

/* Card/post entry animations */
.articles .card{ opacity:0; transform: translateY(8px) scale(.995); animation: cardIn .42s cubic-bezier(.2,.9,.3,1) forwards }
.articles .card:nth-child(1){ animation-delay:.06s }
.articles .card:nth-child(2){ animation-delay:.12s }
.articles .card:nth-child(3){ animation-delay:.18s }
.articles .card:nth-child(4){ animation-delay:.24s }
@keyframes cardIn{ to{ opacity:1; transform:none } }

/* Post page entrance */
.article-page .post{ opacity:0; transform: translateY(6px); animation: postIn .44s ease forwards }
@keyframes postIn{ to{ opacity:1; transform:none } }

/* Ensure mobile menu doesn't block scroll visually (JS allows scroll) but still overlays content */
/* pointer-events is controlled by the [aria-hidden] attribute above; do not enable it globally */

/* Small accessibility/visibility tweak: when themeToggle used, icons are handled by JS; provide smooth switch */
.toggle-pill .icon{ display:inline-block }

/* About modal (central card) */
.about-modal{ position:fixed; inset:0; display:grid; place-items:center; background: rgba(0,0,0,0.28); backdrop-filter: blur(6px); z-index:90; opacity:0; pointer-events:none; transition: opacity .2s ease }
.about-modal[aria-hidden="false"]{ opacity:1; pointer-events:auto }
.about-card{ width:min(720px, calc(100% - 48px)); border-radius:14px; padding:18px; background: color-mix(in srgb, white 100% , transparent); border:1px solid hsl(var(--stroke)); box-shadow: 0 30px 80px hsl(220 8% 6% / .5); transform-origin:center center; opacity:0; transform: scale(.98) translateY(6px); }
.about-top{ display:flex; gap:12px; align-items:center }
.about-photo{ width:96px; height:96px; object-fit:cover; border-radius:999px; border:1px solid hsl(var(--stroke)); }
.about-meta{ display:flex; flex-direction:column }
.about-name{ font-weight:700; font-size:1.05rem }
.about-role{ color: hsl(var(--muted)); font-size:.95rem }
.about-body{ margin-top:12px; color: hsl(var(--muted)); line-height:1.5 }
.about-close{ position:absolute; margin:-10px -10px 0 0; border:0; background:transparent; font-size:20px; cursor:pointer }
.about-modal[aria-hidden="false"] .about-card{ animation: aboutIn .34s cubic-bezier(.2,.9,.3,1) forwards }
@keyframes aboutIn{ to{ opacity:1; transform: none } }

/* Theme-aware opaque card background: white in light, near-black in dark */
:root{ --card-bg: 255 255 255; }
:root.dark{ --card-bg: 10 10 12; }
.about-card{ background: rgb(var(--card-bg)); color: hsl(var(--fg)); }

@media (max-width: 860px){
  .articles{ grid-template-columns: 1fr; }
  .card-img{ height:220px }
  .content{ margin-top:92px }
}

/* When header is not at top we move it away (only show at very top) */
.header-hidden{ transform: translateY(-120%); opacity:0 }

/* Responsive tweaks */
@media (max-width: 860px){
  .grid{ grid-template-columns: 1fr; }
  header{ gap:10px; }
  .brand{ display:none; }
  .pane{ min-height: 72vh; }
  .titlebar h2{ font-size:1rem; }
  .pill{ padding:9px 12px; }
}


/* Responsive */
@media (max-width: 860px){
  .grid{ grid-template-columns: 1fr; }
  header{ gap:10px; }
  .brand{ display:none; }
  .pane{ min-height: 72vh; }
  .titlebar h2{ font-size:1rem; }
  .pill{ padding:9px 12px; }
}
